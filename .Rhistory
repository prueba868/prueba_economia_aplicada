slvm2_75_vc       = "rent_slvm2_p75_vc",
slvm2_m_vu        = "rent_slvm2_mean_vu",
slvm2_25_vu       = "rent_slvm2_p25_vu",
slvm2_75_vu       = "rent_slvm2_p75_vu"
)
rent_vars_present <- intersect(names(rent_rename_map_old2new), names(Ine_Atlas_census_tract))
rent_rename_map_new2old <- setNames(rent_vars_present, rent_rename_map_old2new[rent_vars_present])
# -----------------------------
# 2) Airbnb vars (treatments)
# -----------------------------
airbnb_vars <- names(Ine_Atlas_census_tract) %>%
.[str_detect(., "^(n_listings|bedrooms|maxguests|capacity_days|n_listings_reviews|cap_reviews_sum|active_days_total)_\\d+$")]
# -----------------------------
# 3) Clean + rename + reorder
# Order requested:
# (i) mun_code:district_code
# (ii) tract_code, year
# (iii) dependents (rent_*)
# (iv) treatments (airbnb_*)
# (v) controls (rest)
# -----------------------------
Ine_Atlas_census_tract_clean <- Ine_Atlas_census_tract %>%
rename(!!!rent_rename_map_new2old) %>%
rename_with(~ paste0("airbnb_", .), all_of(airbnb_vars)) %>%
select(-any_of(c("cpro","litpro","cumun","litmun"))) %>%
{
df <- .
admin_block <- intersect(names(df), c("mun_code","mun_name","prov_code","prov_name","district_code"))
id_block <- intersect(names(df), c("tract_code","year"))
rent_block <- intersect(names(df), unname(rent_rename_map_old2new[rent_vars_present]))
airbnb_block <- intersect(names(df), paste0("airbnb_", airbnb_vars))
controls_block <- setdiff(names(df), c(admin_block, id_block, rent_block, airbnb_block))
df %>% select(all_of(admin_block), all_of(id_block), all_of(rent_block), all_of(airbnb_block), all_of(controls_block))
}
saveRDS(Ine_Atlas_census_tract,file.path(base_path,"Ine_Atlas_census_tract.rds"))
saveRDS(Ine_Atlas_census_tract_clean,file.path(base_path,"Ine_Atlas_census_tract.rds"))
View(Ine_Atlas_census_tract_clean)
income_district <-readRDS(file.path(base_path,"District/income_district.rds"))
income_sources_district <-readRDS(file.path(base_path,"District/income_sources_district.rds"))
demographics_district <-readRDS(file.path(base_path,"District/demographics_district.rds"))
gini_p80p20_district <-readRDS(file.path(base_path,"District/gini_p80p20_district.rds"))
Alquiler_Spain_district <-readRDS("C:/Users/alber/Desktop/Research/Airbnb housing/Data/Alquiler/Data/Clean data/Alquiler_Spain_district.Rds") %>%
rename(district_code=cudis) %>%
mutate(district_code=as.numeric(district_code)) %>%
select(-cpro,-litpro,-cumun,-litmun,everything())
Airbnb_Spain_district_thresholds <-readRDS("C:/Users/alber/Desktop/Research/Airbnb housing/Data/Airbnb/Data/Clean data/airbnb_distr_year_thresholds.Rds") %>%
mutate(district_code=as.numeric(district_code)) %>%
na0_airbnb_block()
Ine_Atlas_district <-demographics_district %>%
left_join(gini_p80p20_district,by=c("mun_code","mun_name","prov_code","prov_name","district_code","year")) %>%
left_join(income_sources_district,by=c("mun_code","mun_name","prov_code","prov_name","district_code","year")) %>%
left_join(income_district,by=c("mun_code","mun_name","prov_code","prov_name","district_code","year")) %>%
mutate(district_code=as.numeric(district_code)) %>%
left_join(Alquiler_Spain_district,by=c("district_code","year")) %>%
left_join(Airbnb_Spain_district_thresholds,by=c("district_code","year"))
library(dplyr)
library(stringr)
library(tidyr)
# -----------------------------
# 1) Rental vars (dependents) [same map as tract]
# -----------------------------
rent_rename_map_old2new <- c(
bi_alvhepco_tvc   = "rent_bi_alvhepco_tvc",
bi_alvhepco_tvu   = "rent_bi_alvhepco_tvu",
alqm2mes_lv_m_vc  = "rent_eur_m2_month_lv_mean_vc",
alqm2mes_lv_25_vc = "rent_eur_m2_month_lv_p25_vc",
alqm2mes_lv_75_vc = "rent_eur_m2_month_lv_p75_vc",
alqm2mes_lv_m_vu  = "rent_eur_m2_month_lv_mean_vu",
alqm2mes_lv_25_vu = "rent_eur_m2_month_lv_p25_vu",
alqm2mes_lv_75_vu = "rent_eur_m2_month_lv_p75_vu",
alqtbid12_m_vc    = "rent_alqtbid12_mean_vc",
alqtbid12_25_vc   = "rent_alqtbid12_p25_vc",
alqtbid12_75_vc   = "rent_alqtbid12_p75_vc",
alqtbid12_m_vu    = "rent_alqtbid12_mean_vu",
alqtbid12_25_vu   = "rent_alqtbid12_p25_vu",
alqtbid12_75_vu   = "rent_alqtbid12_p75_vu",
slvm2_m_vc        = "rent_slvm2_mean_vc",
slvm2_25_vc       = "rent_slvm2_p25_vc",
slvm2_75_vc       = "rent_slvm2_p75_vc",
slvm2_m_vu        = "rent_slvm2_mean_vu",
slvm2_25_vu       = "rent_slvm2_p25_vu",
slvm2_75_vu       = "rent_slvm2_p75_vu"
)
# -----------------------------
# 2) Read data (district-year)
# -----------------------------
income_district <-readRDS(file.path(base_path,"District/income_district.rds"))
income_sources_district <-readRDS(file.path(base_path,"District/income_sources_district.rds"))
demographics_district <-readRDS(file.path(base_path,"District/demographics_district.rds"))
gini_p80p20_district <-readRDS(file.path(base_path,"District/gini_p80p20_district.rds"))
Alquiler_Spain_district <-readRDS("C:/Users/alber/Desktop/Research/Airbnb housing/Data/Alquiler/Data/Clean data/Alquiler_Spain_district.Rds") %>%
rename(district_code=cudis) %>%
mutate(district_code=as.numeric(district_code)) %>%
select(-cpro,-litpro,-cumun,-litmun,everything())
Airbnb_Spain_district_thresholds <-readRDS("C:/Users/alber/Desktop/Research/Airbnb housing/Data/Airbnb/Data/Clean data/airbnb_distr_year_thresholds.Rds") %>%
mutate(district_code=as.numeric(district_code)) %>%
na0_airbnb_block()
# -----------------------------
# 3) Merge
# -----------------------------
Ine_Atlas_district <-demographics_district %>%
left_join(gini_p80p20_district,by=c("mun_code","mun_name","prov_code","prov_name","district_code","year")) %>%
left_join(income_sources_district,by=c("mun_code","mun_name","prov_code","prov_name","district_code","year")) %>%
left_join(income_district,by=c("mun_code","mun_name","prov_code","prov_name","district_code","year")) %>%
mutate(district_code=as.numeric(district_code)) %>%
left_join(Alquiler_Spain_district,by=c("district_code","year")) %>%
left_join(Airbnb_Spain_district_thresholds,by=c("district_code","year"))
# -----------------------------
# 4) Rename + reorder columns
# Order requested:
# (i) mun_code:district_code
# (ii) year
# (iii) dependents (rent_*)
# (iv) treatments (airbnb_*)
# (v) controls (rest)
# -----------------------------
rent_vars_present <-intersect(names(rent_rename_map_old2new),names(Ine_Atlas_district))
rent_rename_map_new2old <-setNames(rent_vars_present,rent_rename_map_old2new[rent_vars_present])
airbnb_vars <-names(Ine_Atlas_district) %>%
.[str_detect(.,"^(n_listings|bedrooms|maxguests|capacity_days|n_listings_reviews|cap_reviews_sum|active_days_total)_\\d+$")]
Ine_Atlas_district_clean <-Ine_Atlas_district %>%
rename(!!!rent_rename_map_new2old) %>%
rename_with(~paste0("airbnb_",.),all_of(airbnb_vars)) %>%
{
df <- .
admin_block <-intersect(names(df),c("mun_code","mun_name","prov_code","prov_name","district_code"))
id_block <-intersect(names(df),c("year"))
rent_block <-intersect(names(df),unname(rent_rename_map_old2new[rent_vars_present]))
airbnb_block <-intersect(names(df),paste0("airbnb_",airbnb_vars))
controls_block <-setdiff(names(df),c(admin_block,id_block,rent_block,airbnb_block))
df %>% select(all_of(admin_block),all_of(id_block),all_of(rent_block),all_of(airbnb_block),all_of(controls_block))
}
saveRDS(Ine_Atlas_district_clean,file.path(base_path,"Ine_Atlas_district.rds"))
View(Ine_Atlas_district_clean)
income_municipality <-readRDS(file.path(base_path,"Municipality/income_municipality.rds"))
income_sources_municipality <-readRDS(file.path(base_path,"Municipality/income_sources_municipality.rds"))
demographics_municipality <-readRDS(file.path(base_path,"Municipality/demographics_municipality.rds"))
gini_p80p20_municipality <-readRDS(file.path(base_path,"Municipality/gini_p80p20_municipality.rds"))
Alquiler_Spain_municipality <-readRDS("C:/Users/alber/Desktop/Research/Airbnb housing/Data/Alquiler/Data/Clean data/Alquiler_Spain_municipality.Rds") %>%
rename(mun_code=cumun) %>%
mutate(mun_code=as.numeric(mun_code)) %>%
select(-cpro,-npro,everything())
Airbnb_Spain_municipality_thresholds <-readRDS("C:/Users/alber/Desktop/Research/Airbnb housing/Data/Airbnb/Data/Clean data/airbnb_mun_year_thresholds.Rds") %>%
mutate(mun_code=as.numeric(mun_code)) %>%
na0_airbnb_block()
Ine_Atlas_municipality <-demographics_municipality %>%
left_join(gini_p80p20_municipality,by=c("mun_code","mun_name","prov_code","prov_name","year")) %>%
left_join(income_sources_municipality,by=c("mun_code","mun_name","prov_code","prov_name","year")) %>%
left_join(income_municipality,by=c("mun_code","mun_name","prov_code","prov_name","year")) %>%
mutate(mun_code=as.numeric(mun_code)) %>%
left_join(Alquiler_Spain_municipality,by=c("mun_code","year")) %>%
left_join(Airbnb_Spain_municipality_thresholds,by=c("mun_code","year"))
library(dplyr)
library(stringr)
library(tidyr)
# -----------------------------
# 1) Rental vars (dependents) [same map]
# -----------------------------
rent_rename_map_old2new <-c(
bi_alvhepco_tvc="rent_bi_alvhepco_tvc",
bi_alvhepco_tvu="rent_bi_alvhepco_tvu",
alqm2mes_lv_m_vc="rent_eur_m2_month_lv_mean_vc",
alqm2mes_lv_25_vc="rent_eur_m2_month_lv_p25_vc",
alqm2mes_lv_75_vc="rent_eur_m2_month_lv_p75_vc",
alqm2mes_lv_m_vu="rent_eur_m2_month_lv_mean_vu",
alqm2mes_lv_25_vu="rent_eur_m2_month_lv_p25_vu",
alqm2mes_lv_75_vu="rent_eur_m2_month_lv_p75_vu",
alqtbid12_m_vc="rent_alqtbid12_mean_vc",
alqtbid12_25_vc="rent_alqtbid12_p25_vc",
alqtbid12_75_vc="rent_alqtbid12_p75_vc",
alqtbid12_m_vu="rent_alqtbid12_mean_vu",
alqtbid12_25_vu="rent_alqtbid12_p25_vu",
alqtbid12_75_vu="rent_alqtbid12_p75_vu",
slvm2_m_vc="rent_slvm2_mean_vc",
slvm2_25_vc="rent_slvm2_p25_vc",
slvm2_75_vc="rent_slvm2_p75_vc",
slvm2_m_vu="rent_slvm2_mean_vu",
slvm2_25_vu="rent_slvm2_p25_vu",
slvm2_75_vu="rent_slvm2_p75_vu"
)
# -----------------------------
# 2) Read data (municipality-year)
# -----------------------------
income_municipality <-readRDS(file.path(base_path,"Municipality/income_municipality.rds"))
income_sources_municipality <-readRDS(file.path(base_path,"Municipality/income_sources_municipality.rds"))
demographics_municipality <-readRDS(file.path(base_path,"Municipality/demographics_municipality.rds"))
gini_p80p20_municipality <-readRDS(file.path(base_path,"Municipality/gini_p80p20_municipality.rds"))
Alquiler_Spain_municipality <-readRDS("C:/Users/alber/Desktop/Research/Airbnb housing/Data/Alquiler/Data/Clean data/Alquiler_Spain_municipality.Rds") %>%
rename(mun_code=cumun) %>%
mutate(mun_code=as.numeric(mun_code)) %>%
select(-cpro,-npro,everything())
Airbnb_Spain_municipality_thresholds <-readRDS("C:/Users/alber/Desktop/Research/Airbnb housing/Data/Airbnb/Data/Clean data/airbnb_mun_year_thresholds.Rds") %>%
mutate(mun_code=as.numeric(mun_code)) %>%
na0_airbnb_block()
# -----------------------------
# 3) Merge
# -----------------------------
Ine_Atlas_municipality <-demographics_municipality %>%
left_join(gini_p80p20_municipality,by=c("mun_code","mun_name","prov_code","prov_name","year")) %>%
left_join(income_sources_municipality,by=c("mun_code","mun_name","prov_code","prov_name","year")) %>%
left_join(income_municipality,by=c("mun_code","mun_name","prov_code","prov_name","year")) %>%
mutate(mun_code=as.numeric(mun_code)) %>%
left_join(Alquiler_Spain_municipality,by=c("mun_code","year")) %>%
left_join(Airbnb_Spain_municipality_thresholds,by=c("mun_code","year"))
# -----------------------------
# 4) Rename + reorder columns
# Order requested:
# (i) mun_code:prov_code (admin)
# (ii) year
# (iii) dependents (rent_*)
# (iv) treatments (airbnb_*)
# (v) controls (rest)
# -----------------------------
rent_vars_present <-intersect(names(rent_rename_map_old2new),names(Ine_Atlas_municipality))
rent_rename_map_new2old <-setNames(rent_vars_present,rent_rename_map_old2new[rent_vars_present])
airbnb_vars <-names(Ine_Atlas_municipality) %>%
.[str_detect(.,"^(n_listings|bedrooms|maxguests|capacity_days|n_listings_reviews|cap_reviews_sum|active_days_total)_\\d+$")]
Ine_Atlas_municipality_clean <-Ine_Atlas_municipality %>%
rename(!!!rent_rename_map_new2old) %>%
rename_with(~paste0("airbnb_",.),all_of(airbnb_vars)) %>%
{
df <- .
admin_block <-intersect(names(df),c("mun_code","mun_name","prov_code","prov_name"))
id_block <-intersect(names(df),c("year"))
rent_block <-intersect(names(df),unname(rent_rename_map_old2new[rent_vars_present]))
airbnb_block <-intersect(names(df),paste0("airbnb_",airbnb_vars))
controls_block <-setdiff(names(df),c(admin_block,id_block,rent_block,airbnb_block))
df %>% select(all_of(admin_block),all_of(id_block),all_of(rent_block),all_of(airbnb_block),all_of(controls_block))
}
saveRDS(Ine_Atlas_municipality,file.path(base_path,"Ine_Atlas_municipality.rds"))
Ine_Atlas_census_tract <- readRDS("C:/Users/alber/Desktop/Research/Airbnb housing/Data/ineAtlas/Data/Ine_Atlas_census_tract.rds")
Population_Spain_cdtseccion <- readRDS("C:/Users/alber/Desktop/Research/Airbnb housing/Data/Renta/Data/Clean data/Population_Spain_cdtseccion.Rds" )
View(Population_Spain_cdtseccion)
Tripadvisor_Spain_cdtseccion <- readRDS( "C:/Users/alber/Desktop/Research/Airbnb housing/Data/Instrument/Tripadvisor/Data/Clean data/Tripadvisor_Spain_cdtseccion.Rds")
View(Tripadvisor_Spain_cdtseccion)
Tripadvisor_Spain_cdtseccion <- readRDS("C:/Users/alber/Desktop/Research/Airbnb housing/Data/Instrument/Tripadvisor/Data/Clean data/Tripadvisor_Spain_cdtseccion.Rds")
View(Tripadvisor_Spain_cdtseccion)
library(readxl)
Tripadvisor_50_cities <- read_excel("C:/Users/alber/Desktop/Research/Airbnb housing/Data/Instrument/Tripadvisor/Data/Raw data/Tripadvisor_50_cities.xlsx",
col_types = c("numeric", "numeric", "text",
"text", "numeric", "numeric", "numeric"))
View(Tripadvisor_50_cities)
# Import seccionado 2011
Seccionado_2011 <- st_read("C:\\Users\\alber\\Desktop\\Research\\Airbnb housing\\Data\\Support data\\Seccionado 2011\\Data\\Raw data\\SECC_CPV_E_20111101_01_R_INE.shp") %>%
st_transform(crs = 4326) %>%
st_make_valid() %>%
select(CUSEC, CDIS)
Tripadvisor <- read_excel("C:/Users/alber/Desktop/Research/Airbnb housing/Data/Instrument/Tripadvisor/Data/Raw data/Tripadvisor_50_cities.xlsx",
col_types = c("numeric", "numeric", "text",    "text", "numeric", "numeric", "numeric"))
st_as_sf(coords = c("Longitude", "Latitude"), crs = 4326) %>%
st_transform(crs = 4326)
Tripadvisor <- read_excel("C:/Users/alber/Desktop/Research/Airbnb housing/Data/Instrument/Tripadvisor/Data/Raw data/Tripadvisor_50_cities.xlsx",
col_types = c("numeric", "numeric", "text",    "text", "numeric", "numeric", "numeric"))
st_as_sf(coords = c("Longitude", "Latitude"), crs = 4326) %>%
st_transform(crs = 4326)
Tripadvisor <- read_excel("C:/Users/alber/Desktop/Research/Airbnb housing/Data/Instrument/Tripadvisor/Data/Raw data/Tripadvisor_50_cities.xlsx",
col_types = c("numeric", "numeric", "text",    "text", "numeric", "numeric", "numeric")) %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = 4326) %>%
st_transform(crs = 4326)
Tripadvisor <- read_excel("C:/Users/alber/Desktop/Research/Airbnb housing/Data/Instrument/Tripadvisor/Data/Raw data/Tripadvisor_50_cities.xlsx",
col_types = c("numeric", "numeric", "text",    "text", "numeric", "numeric", "numeric"))
View(Tripadvisor)
Tripadvisor <- read_excel("C:/Users/alber/Desktop/Research/Airbnb housing/Data/Instrument/Tripadvisor/Data/Raw data/Tripadvisor_50_cities.xlsx",
col_types = c("numeric", "numeric", "text",    "text", "numeric", "numeric", "numeric")) %>%
drop_na(Longitude) %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = 4326) %>%
st_transform(crs = 4326)
# Import seccionado 2011
Seccionado_2011 <- st_read("C:\\Users\\alber\\Desktop\\Research\\Airbnb housing\\Data\\Support data\\Seccionado 2011\\Data\\Raw data\\SECC_CPV_E_20111101_01_R_INE.shp") %>%
st_transform(crs = 4326) %>%
st_make_valid() %>%
select(CUSEC = tract_code, CDIS)
# Import seccionado 2011
Seccionado_2011 <- st_read("C:\\Users\\alber\\Desktop\\Research\\Airbnb housing\\Data\\Support data\\Seccionado 2011\\Data\\Raw data\\SECC_CPV_E_20111101_01_R_INE.shp") %>%
st_transform(crs = 4326) %>%
st_make_valid() %>%
select(tract_code = CUSEC , CDIS)
# Identify the census tracts of each point of interest
Tripadvisor <- st_join(Tripadvisor, Seccionado_2011) %>%
mutate(CUSEC = as.numeric(CUSEC)) %>%
clean_names() %>%
st_drop_geometry() %>%
group_by(tract_code) %>%
mutate(reviews = sum(reviews, na.rm = T)) %>%
ungroup() %>%
distinct(cusec, .keep_all = T)
# Identify the census tracts of each point of interest
Tripadvisor <- st_join(Tripadvisor, Seccionado_2011) %>%
clean_names() %>%
st_drop_geometry() %>%
group_by(tract_code) %>%
mutate(reviews = sum(reviews, na.rm = T)) %>%
ungroup() %>%
distinct(tract_code, .keep_all = T)
View(Tripadvisor)
Tripadvisor <- read_excel("C:/Users/alber/Desktop/Research/Airbnb housing/Data/Instrument/Tripadvisor/Data/Raw data/Tripadvisor_50_cities.xlsx",
col_types = c("numeric", "numeric", "text",    "text", "numeric", "numeric", "numeric")) %>%
drop_na(Longitude) %>%
st_as_sf(coords = c("Longitude", "Latitude"), crs = 4326) %>%
st_transform(crs = 4326)
# Import seccionado 2011
Seccionado_2011 <- st_read("C:\\Users\\alber\\Desktop\\Research\\Airbnb housing\\Data\\Support data\\Seccionado 2011\\Data\\Raw data\\SECC_CPV_E_20111101_01_R_INE.shp") %>%
st_transform(crs = 4326) %>%
st_make_valid() %>%
select(tract_code = CUSEC , CDIS)
# Identify the census tracts of each point of interest
Tripadvisor <- st_join(Tripadvisor, Seccionado_2011) %>%
clean_names() %>%
st_drop_geometry() %>%
group_by(tract_code) %>%
mutate(reviews = sum(reviews, na.rm = T)) %>%
ungroup() %>%
distinct(tract_code, .keep_all = T) %>%
mutate(tract_code = as.numeric(tract_code))
View(Tripadvisor)
Tripadvisor <- Tripadvisor %>%
select(tract_code, everything(), -number, -x2,CDIS)
Tripadvisor <- Tripadvisor %>%
select(tract_code, everything(), -number, -x2, CDIS)
Tripadvisor <- Tripadvisor %>%
select(-CDIS)
View(Tripadvisor)
saveRDS(Tripadvisor, "C:/Users/Alberto/Desktop/Thesis/PhD 5 Year/Airbnb housing Spain/Data/Instrument/Tripadvisor/Data/Clean data/Tripadvisor_Spain_cdtseccion.Rds")
saveRDS(Tripadvisor, "C:\\Users\\alber\\Desktop\\Research\\Airbnb housing\\Data\\Instrument\\Tripadvisor\\Data\\Clean data\\Tripadvisor_Spain_cdtseccion.Rds")
LS
ls
mean
print(mean)
print(sum)
sum
body(lm)      # cuerpo
lm
body(sum)
body(mean)
mean
setdiff
setwd()
getwd()
suma <- 1
suma <- 2
output <- suma - resta
suma <- 1
resta <- 2
output <- suma - resta
rm(list = ls())
suma <- 3 + 1
suma == 4
suma !=5
suma > 1
p <- suma > 1
p <- 1:10
# BLA BLA BL
# BLA BLA
# BLAB
# BLA
numerico <- 5
class(5)
character <- "hola mundo"
class(character)
Boolean <- TRUE
class(Boolean)
help(factor)
factor <-factor(1,0, labels = c("Hombre", "Mujer"))
factor <-factor(c(1,0), labels = c("Hombre", "Mujer"))
class(factor)
factor
# BLA BLA BL
# BLA BLA
# BLAB
# BLA
vector_númerico <-  c(1,2,3,4,5)
rm(lista = ls())
rm(ls())
rm(lista = ls())
rm(list = ls())
vector_númerico <-  c(1,2,3,4,5)
vector_númerico
# BLA BLA BL
# BLA BLA
# BLAB
# BLA
vector_númerico_largo <-  c(1,2,3,4,5)
vector_númerico_corto <-  c(1:5)
vector_númerico_corto == vector_númerico_largo
class(vector_númerico_corto)
vector_númerico_corto[3]
vector_character <- c("Me", "llamo", "Alberto")
class(vector_character)
vector_character[3]
vector_boolean <- c(T,F,T,F)
class(vector_boolean)
vector_boolean[1]
length((vector_boolean))
lista = list(c(1:3), c("Alberto", "Francisco"), c(T,F,T,F,T,T))
lista
vector_numerico <- lista[[1]]
vector_numerico
# BLA BLA BL
# BLA BLA
# BLAB
# BLA
matriz <-
matrix
# BLA BLA BL
# BLA BLA
# BLAB
# BLA
matriz <-
help(matrix)
help(matrix)
# BLA BLA BL
# BLA BLA
# BLAB
# BLA
matriz <- matrix(1:10, nrow = 3, ncol = 3)
# BLA BLA BL
# BLA BLA
# BLAB
# BLA
matriz <- matrix(1:9, nrow = 3, ncol = 3)
matriz[1]
matriz[[1]]
matriz[[1,2]]
matriz
help(data.frame)
data_frame <- data.frame(year = c(1999:2026),
GDP = runif(n=27))
data_frame <- data.frame(year = c(1999:2026),
GDP = runif(n=28))
data_frame
df <- data.frame(nombre = c("Paula", "María")
edad = c(22, 37, 50))
df <- data.frame(nombre = c("Paula", "María")
edad = c(22, 37, 50))
df <- data.frame(nombre = c("Paula", "María"),
edad = c(22, 37, 50))
df <- list(nombre = c("Paula", "María"),
edad = c(22, 37, 50))
df <- data.frame(
nombre = c("Juan", "Pepe", "Ana"),
edad   = c(35, 45, 25),
altura = c(1.75, 1.65, 1.60)
)
df
str(df)
summary(df)
p <- summary(df)
p
p <- as.data.frame(p)
View(p)
p <- as.list(p)
View(p)
p[["Var1"]]
head(df)
Dataset_final_nace_rev2_3dig_wide <- readRDS("C:/Users/alber/Desktop/Claude code Serti/Replica Import Competition Citino Linarello/Data/Output/Dataset_final_nace_rev2_3dig_wide.Rds")
Dataset_final_nace_rev2_3dig_wide <- readRDS("C:/Users/alber/Desktop/Claude code Serti/Replica Import Competition Citino Linarello/Data/Output/Dataset_final_nace_rev2_3dig_wide.Rds")
View(Dataset_final_nace_rev2_3dig_wide)
Dataset_final_nace_rev2_4dig_wide <- readRDS("C:/Users/alber/Desktop/Claude code Serti/Replica Import Competition Citino Linarello/Data/Output/Dataset_final_nace_rev2_4dig_wide.Rds")
View(Dataset_final_nace_rev2_4dig_wide)
View(Dataset_final_nace_rev2_3dig_wide)
Dataset_final_nace_rev2_2dig_robust <- readRDS("C:/Users/alber/Desktop/Claude code Serti/Replica Import Competition Citino Linarello/Data/Output/Dataset_final_nace_rev2_2dig_robust.Rds")
View(Dataset_final_nace_rev2_2dig_robust)
IMP_IT_China_1991_2012 <- readRDS("C:/Users/alber/Desktop/Claude code Serti/Replica Import Competition Citino Linarello/Data/Input/Trade/IMP_IT_China_1991_2012.Rds")
View(IMP_IT_China_1991_2012)
View(IMP_IT_China_1991_2012)
IMP_IT_China_raw <- IMP_IT_China_1991_2012 %>%
mutate(sitc_3 = as.character(sitc_3)) %>%
mutate(sitc_3 = gsub("[. ]", "", sitc_3)) %>%
filter(!sitc_3 %in% c("TOTAL", "total", "Total"))  # Exclude totals
IMP_IT_China_raw <- IMP_IT_China_1991_2012 %>%
mutate(sitc_3 = as.character(sitc_3)) %>%
mutate(sitc_3 = gsub("[. ]", "", sitc_3)) %>%
filter(!sitc_3 %in% c("TOTAL", "total", "Total"))  # Exclude totals
# ============================================================
library(tidyverse)
library(tidyr)
IMP_IT_China_raw <- IMP_IT_China_1991_2012 %>%
mutate(sitc_3 = as.character(sitc_3)) %>%
mutate(sitc_3 = gsub("[. ]", "", sitc_3)) %>%
filter(!sitc_3 %in% c("TOTAL", "total", "Total"))  # Exclude totals
View(IMP_IT_China_raw)
View(IMP_IT_China_1991_2012)
View(IMP_IT_China_1991_2012)
Dataset_final_nace_rev2_3dig_wide <- readRDS("C:/Users/alber/Desktop/Claude code Serti/Replica Import Competition Citino Linarello/Data/Output/Dataset_final_nace_rev2_3dig_wide.Rds")
Dataset_final_nace_rev2_3dig_wide <- readRDS("C:/Users/alber/Desktop/Claude code Serti/Replica Import Competition Citino Linarello/Data/Output/Dataset_final_nace_rev2_3dig_wide.Rds")
View(Dataset_final_nace_rev2_3dig_wide)
Dataset_final_nace_rev2_4dig_wide <- readRDS("C:/Users/alber/Desktop/Claude code Serti/Replica Import Competition Citino Linarello/Data/Output/Dataset_final_nace_rev2_4dig_wide.Rds")
View(Dataset_final_nace_rev2_4dig_wide)
vector_family <- c(Ana = 18, Luis = 25, Marta = 39, Jose = 67)
vector_family
is_under_20 <- vector_family < 20
is_20_40    <- vector_family >= 20 & vector_family <= 40
is_over_60  <- vector_family > 60
is_under_20
is_20_40
is_over_60
install.packages("survey")
library(ineAtlas)
help(ineAtlas)
library(tidyverse)
library(gapminder)
gapminder <- gapminder
str(gapminder)
str(gapminder)
head(gapminder)
---
title: "Visualización en R para usuarios de STATA"
## **Introducción a ggplot (para usuarios de STATA)**
Domestic_production_italia <- readRDS("C:/Users/alber/Desktop/Research/Postdoc Francesco Serti/Master file annual data/Master file/Data/Domestic production/Data/Clean data/Domestic_production_italia.Rds")
View(Domestic_production_italia)
setwd("C:/Users/alber/Desktop/Pagina web departamento UIB")
rmarkdown::render_site()
